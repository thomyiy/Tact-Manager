<%- contentFor('HeaderCss') %>
<%-include("../partials/title-meta", {"title": "Login"})%>
<%- contentFor('body') %>


<div class="authentication-bg min-vh-100">
  <div class="bg-overlay"></div>
  <div class="container">
    <div class="d-flex flex-column min-vh-100 px-3 pt-4">
      <div class="row justify-content-center my-auto">
        <div class="col-md-8 col-lg-6 col-xl-5">

          <div class="text-center mb-4">
            <a href="index">
              <img src="/assets/images/logo-sm.svg" alt="" height="22"> <span class="logo-txt">Symox</span>
            </a>
          </div>

          <div class="card">
            <div class="card-body p-4">
              <div class="text-center mt-2">
                <h5 class="text-primary">Register Account</h5>
                <p class="text-muted">Get your free Symox account now.</p>
              </div>
              <div class="p-2 mt-4">
                <form action="/changepassword" method="post">
                  <input type="hidden" name="token" value="<%= token %>">
                  <div class="mb-3">
                    <label class="form-label" for="password-input">Password</label>
                    <div class="position-relative auth-pass-inputgroup">
                      <div class="input-group">
                        <span class="input-group-text" id="basic-addon1"><i class="ri-lock-2-line"></i></span>
                        <input type="password" class="form-control pe-5 password-input" onpaste="return false" placeholder="Enter password" id="password-input" aria-describedby="passwordInput" name="password" minlength="5" required>
                        <button class="btn btn-link position-absolute shadow-none end-0 top-0 text-decoration-none text-muted password-addon" type="button" id="password-addon"><i class="ri-eye-fill align-middle"></i></button>
                      </div>

                    </div>
                    <div id="passwordInput" class="form-text">Your password
                      must be 8-20 characters long.</div>
                  </div>

                  <div class="mb-3">
                    <label class="form-label" for="confirm-password-input">Confirm
                      Password</label>
                    <div class="position-relative auth-pass-inputgroup mb-3">
                      <div class="input-group">
                        <span class="input-group-text" id="basic-addon1"><i class="ri-lock-2-line"></i></span>
                        <input type="password" class="form-control pe-5 password-input" onpaste="return false" placeholder="Confirm password" name="confirmpassword" minlength="5" required>
                        <button class="btn btn-link position-absolute shadow-none end-0 top-0 text-decoration-none text-muted password-addon" type="button"><i class="ri-eye-fill align-middle"></i></button>
                      </div>
                    </div>
                    <div id="confirmpasswordInput" class="form-text text-danger" style="display: none;">Confirm password not matched.
                    </div>
                  </div>
                  <div class="form-check form-check-primary">
                    <input class="form-check-input" type="checkbox" value="" id="auth-remember-check">
                    <label class="form-check-label" for="auth-remember-check">Remember me</label>
                  </div>

                  <div class="mt-4">
                    <button class="btn btn-primary w-100" id="btnSubmit" type="submit">Reset Password</button>
                  </div>
                  <div class="mt-4 text-center">
                    <p class="text-muted mb-0">Already have an account ? <a href="auth-login" class="fw-medium text-primary"> Login</a></p>
                  </div>
                </form>
              </div>

            </div>
          </div>

        </div><!-- end col -->
      </div><!-- end row -->

      <div class="row">
        <div class="col-lg-12">
          <div class="text-center text-muted p-4">
            <p class="text-white-50">Â© <script>
                document.write(new Date().getFullYear())
              </script> Symox. Crafted with <i class="mdi mdi-heart text-danger"></i> by Themesbrand</p>
          </div>
        </div>
      </div>

    </div>
  </div><!-- end container -->
</div>
<!-- end authentication section -->

<%- contentFor('FooterJs') %>

<script>
  const confirmpassword = document.getElementById("confirm-password-input");
  const password = document.getElementById("password-input");
  if (confirmpassword) {
    confirmpassword.addEventListener("keyup", function() {
      // console.log(confirmpassword.value);
      // confirmpasswordInput
      if (confirmpassword.value != "" && password.value != "") {
        if (confirmpassword.value != password.value) {
          document.getElementById("confirmpasswordInput").style.display = "block";
          document.getElementById("btnSubmit").setAttribute("disabled", "disabled")
        } else {
          document.getElementById("confirmpasswordInput").style.display = "none";
          document.getElementById("btnSubmit").removeAttribute("disabled")
        }
      }
    })
  }
</script>